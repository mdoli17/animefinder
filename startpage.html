

<html>
    <style>
        .searchfield 
        {
            text-align: center;
        }

        .input 
        {
            border-radius: 3ch;
            border-style:solid;
            width: 50%;
            height: 5%;
            text-align: center;
            font-size: 2ch;
        }

        ::-webkit-input-placeholder
        {
            text-align: center;
            font-size: 125%;
        }

        body {
            background: url(background.jpg) no-repeat center center fixed;
        }

        .testimages 
        {
            width: 10%;
            display: inline-block;
            margin-right: 1%;
        }

        #characterimages
        {
            overflow-x: scroll;
            overflow-y: hidden;
            white-space: nowrap;
            
        }

        #characterimages ::-webkit-scrollbar {
            display: none;
        }

    </style>


    <head>
        <title>Find your character</title>
    </head>
    
    <body>
        <script>
            const HomeURL = "https://ghibliapi.herokuapp.com/people";
            
            async function getCharacter(eyecolour, haircolour, gender, age) {
                const response = await fetch(HomeURL, {mode: "cors"});
                const data = await response.json();
                
                data.forEach(element => {
                    if(element.eye_color == eyecolour && element.hair_color == haircolour && element.gender == gender) 
                    {
                        console.log(element.name);   
                    }
                });  
            }

            async function getCount()
            {
                const response = await fetch(HomeURL, {mode: "cors"});
                const data = await response.json();
                
                return data.length;
            }

            function parseInput(input) 
            {
                var res = input.split(" ");
                
                if(Object.values(Colors).includes("Red"))
                {
                    console.log(res[0]);
                    return res[0];
                }
                console.log("dddd");
                return "ASDASD ";
            }

            function onSearchEntered() 
            {
                document.getElementById("characterimages").textContent = " ";

                var count = getCount();
                count.then((value) => {
                    for(var i = 0; i < value; i++)
                    {
                        var imgelem = document.createElement("img");
                        imgelem.setAttribute("src", "testimage.png");
                        imgelem.setAttribute("class", "testimages");
                        document.getElementById("characterimages").appendChild(imgelem);
                    }
                });
                


            }


            function onFindPressed() {
                console.log("AE");
            }

            function onDropChanged() {
                var eyecolour = document.getElementById("eyecolour").value;
                var haircolour = document.getElementById("haircolour").value;
                var gender = document.getElementById("gender").value;
                var age = document.getElementById("age").value;

                getCharacter(eyecolour, haircolour, gender, age);
                
            }
        </script>

        <div class="searchfield">
            <input class="input" type="text" placeholder="Enter character traits" id="TEXTINPUT" onchange="onSearchEntered()">

            <form>
                <label for="eyecolour">Eye Colour: </label>
                <select name="eyecolour" id="eyecolour" onchange="onDropChanged()">
                    <option value="Red">Red</option>
                    <option value="Blue">Blue</option>
                    <option value="Green">Green</option>
                    <option value="Grey">Grey</option>
                    <option value="Black">Black</option>
                    <option value="Dark Brown">Dark Brown</option>
                    <option value="Brown">Brown</option>
                </select>

                <label for="hairColour">Hair Colour: </label>
                <select name="hairColour" id="haircolour" onchange="onDropChanged()">
                    <option value="Red">Red</option>
                    <option value="Blue">Blue</option>
                    <option value="Green">Green</option>
                    <option value="Grey">Grey</option>
                    <option value="Black">Black</option>
                    <option value="Dark Brown">Dark Brown</option>
                    <option value="Brown">Brown</option>
                </select>

                <label for="gender">Gender: </label>
                <select name="gender" id="gender" onchange="onDropChanged()">
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                </select>
                
                <label for="age">Age: </label>
                <input id="age" type="number" min="1" max="100">
                
                <button onclick="onFindPressed()">Find</button>
            </form>
        </div>

        <div id="characterimages">
            
        </div>
    </body>
</html>